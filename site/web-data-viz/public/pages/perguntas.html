<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>| Perguntas Frequentes</title>
  <link rel="stylesheet" href="../css/faq.css">
  <link rel="icon" href="../img/Logo-pequena.png" type="image/x-icon">
</head>

<body>
  <header class="navbar">
    <nav class="nav-esquerda">
      <a onclick="sair()">
        <img class="img-logo" src="../img/Logo-pequena.png" alt="Logo da empresa">
      </a>
      <a href="../pages/calculadora.html">Calculadora</a>
      <a href="../pages/sobre_nos.html">Sobre Nós</a>
      <a href="../pages/cadastrarFuncionarios.html" id="a-funcionarios">Cadastrar Funcionários</a>
      <a href="../pages/cadastrarRepresas.html" id="a-represa">Cadastrar Represas</a>
      <a href="../pages/cadastrarSensor.html" id="a-sensor">Cadastrar Sensor</a>
      <a href="./dash.html" id="a-dash">Dashboards</a>
      <a href="./perguntas.html">FAQ</a>
    </nav>
    <nav class="nav-direita">
      <img class="img-perfil" src="../img/icone-perfil.png" alt="icone do perfil">
    </nav>
  </header>

  <ul>
    <h1>Perguntas Frequentes</h1>
    <li class="faq-item">
      <div class="pergunta" onclick="aparecerResposta(this)">
        <strong>Quais são os requisitos para cadastrar uma represa?</strong>
      </div>
      <div class="resposta">
        Você precisa ter acesso ao painel administrativo para registrar novos dados de represas.
      </div>
    </li>
    <li class="faq-item">
      <div class="pergunta" onclick="aparecerResposta(this)">
        <strong>Como posso cadastrar um sensor?</strong>
      </div>
      <div class="resposta">
        Para cadastrar um sensor, você deve estar logado e ter permissões para editar dados de sensores.
      </div>
    </li>
  </ul>

  <h2>Envie sua dúvida</h2>
  <form id="formPergunta">
    <textarea id="inputPergunta" rows="4" cols="50" placeholder="Digite sua dúvida aqui..."></textarea><br />
    <button type="submit">Enviar</button>
  </form>

  <p id="mensagem"></p>
  <script src="./JS/perguntas.js"></script>
  <script>
    document.getElementById('formPergunta').addEventListener('submit', async function (e) {
      e.preventDefault();
      const pergunta = document.getElementById('inputPergunta').value;

      const resposta = await fetch('/perguntas', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ pergunta })
      });

      const dados = await resposta.json();
      document.getElementById('mensagem').textContent = dados.mensagem;
    });






    function aparecerResposta(element) {
      // Encontre a div com a resposta correspondente
      const resposta = element.nextElementSibling;

      // Alterna a visibilidade da resposta
      resposta.classList.toggle('show');

      // Adiciona ou remove o efeito de destaque na pergunta
      element.classList.toggle('active');
    }


  </script>
</body>

</html>